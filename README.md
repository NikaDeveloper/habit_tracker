# Трекер полезных привычек (Habit Tracker)

Бэкенд-часть SPA веб-приложения для отслеживания полезных привычек, разработанная в рамках курсового проекта. Проект вдохновлен книгой Джеймса Клира «Атомные привычки».

## Основной функционал

* **CRUD для привычек:** Создание, чтение, редактирование и удаление привычек.
* **Валидация:** Сложная система проверки привычек (время выполнения < 120 с, запрет одновременного вознаграждения и связанной привычки и др.).
* **Пагинация:** Вывод списков привычек страницами (по 5 штук).
* **Публичные привычки:** Возможность публиковать привычки для общего доступа.
* **Интеграция с Telegram:** Асинхронная рассылка напоминаний о выполнении привычки через телеграм-бота.
* **CORS:** Настроен для взаимодействия с фронтендом.

## Стек технологий

* **Python 3.14**
* **Django 6.0**
* **Django REST Framework (DRF)**
* **PostgreSQL** (База данных)
* **Celery** (Отложенные задачи и периодические напоминания)
* **Redis** (Брокер сообщений)

## Установка и запуск

### 1. Клонирование репозитория

```bash
git clone https://github.com/NikaDeveloper/habit_tracker.git
cd habit_tracker
```

### 2. Настройка окружения
*Создайте виртуальное окружение и установите зависимости:*

```bash
python -m venv .venv
```
*Windows:*
```bash
.venv\Scripts\activate
```
*Linux/MacOS:*
```bash
source .venv/bin/activate
```
*Проект использует pip-tools для фиксации версий.*
```bash
pip install -r requirements.txt
```

### 3. Переменные окружения (.env)
Создайте файл .env в корне проекта и заполните его по образцу .env.example.

### 4. Миграции
```bash
python manage.py migrate
```

### 5. Запуск проекта
*Для полноценной работы системы напоминаний необходимо запустить 3 процесса в разных терминалах:*

*Терминал 1: Веб-сервер Django*
```bash
python manage.py runserver
```
*Терминал 2: Celery Worker (Обработка задач)*
```bash
# Windows (требуется eventlet):
celery -A config worker -l info -P eventlet
```
```bash
# Linux/MacOS:
celery -A config worker -l info
```
*Терминал 3: Celery Beat (Планировщик)*
```bash
celery -A config beat -l info
```

## Тестирование и Документация
*Запуск тестов:* 
```bash
python manage.py test
```

*Покрытие тестами:* 
```bash 
coverage run --source='.' manage.py test && coverage report
```

*Документация (Swagger):* 
```bash
# Доступна после запуска сервера по адресу 
http://127.0.0.1:8000/swagger/
```
*Linter: Проверка кода flake8*

*Автор
Nika Developer*
